{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","services/fetch.js","components/Button/Button.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","reset","setState","handleChange","event","preventDefault","value","currentTarget","handleSubmit","props","onSubmit","className","styles","SearchForm","this","type","SearchFormButton","onClick","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","image","id","webformatURL","tags","src","alt","ImageGalleryItemImage","modalRoot","document","querySelector","Modal","handleKeydown","code","onClose","handleOverlayClick","target","window","addEventListener","removeEventListener","largeImageURL","createPortal","Overlay","width","ImageGallery","hideModal","showModal","images","map","axios","defaults","baseURL","fetchImages","page","url","get","then","data","scrollTo","top","documentElement","scrollHeight","behavior","hits","Button","App","gallery","componentDidUpdate","_","prevState","handleNewQuery","color","height","timeout","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e7032447.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2V9Ot\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__QCDnj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2xE_j\",\"Modal\":\"Modal_Modal__1lLjW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2reVC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3Lmhm\"};","import { Component } from 'react';\r\nimport styles from './Searchbar.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Searchbar extends Component {\r\n  state = { query: '' };\r\n\r\n  reset = () => {\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  handleChange = event => {\r\n    event.preventDefault();\r\n    const { value } = event.currentTarget;\r\n    this.setState({ query: value });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    this.props.onSubmit(this.state);\r\n    // this.reset();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button\r\n            type=\"submit\"\r\n            className={styles.SearchFormButton}\r\n            onClick={this.handleSubmit}\r\n          >\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import React from 'react';\r\nimport styles from './ImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ image, onClick }) => {\r\n  const { id, webformatURL, tags } = image;\r\n  return (\r\n    <li className={styles.ImageGalleryItem} key={id} onClick={onClick}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={styles.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.object,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  handleKeydown = event => {\r\n    if (event.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleOverlayClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  render() {\r\n    const { largeImageURL, tags } = this.props.image;\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={this.handleOverlayClick}>\r\n        <div className={styles.Modal}>\r\n          <img src={largeImageURL} alt={tags} width={'100%'} />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  image: PropTypes.object,\r\n};\r\n\r\nexport default Modal;\r\n","import { Component } from 'react';\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\nimport styles from './ImageGallery.module.css';\r\nimport Modal from '../Modal';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass ImageGallery extends Component {\r\n  state = { image: null };\r\n\r\n  hideModal = () => {\r\n    this.setState({ image: null });\r\n  };\r\n\r\n  showModal = image => {\r\n    this.setState({ image });\r\n  };\r\n\r\n  render() {\r\n    const { images } = this.props;\r\n\r\n    return (\r\n      <>\r\n        <ul className={styles.ImageGallery}>\r\n          {images.map(image => {\r\n            return (\r\n              <ImageGalleryItem\r\n                image={image}\r\n                key={image.id}\r\n                onClick={() => this.showModal(image)}\r\n              />\r\n            );\r\n          })}\r\n        </ul>\r\n        {this.state.image && (\r\n          <Modal onClose={this.hideModal} image={this.state.image} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import axios from 'axios';\r\nconst API_KEY = '20862553-c35088a0b719e32f9c665779e';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\n\r\naxios.defaults.baseURL = BASE_URL;\r\n\r\nconst fetchImages = (query, page) => {\r\n  const perPage = 12;\r\n  const url = `?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=${perPage}&key=${API_KEY}`;\r\n  return axios.get(url).then(({ data }) => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n    return data.hits;\r\n  });\r\n};\r\n\r\nexport default fetchImages;\r\n","import React from 'react';\r\nimport styles from './Button.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button type=\"submit\" onClick={onClick} className={styles.Button}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = { onClick: PropTypes.func.isRequired };\r\n\r\nexport default Button;\r\n","import './App.css';\nimport { Component } from 'react';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport fetchImages from './services/fetch.js';\nimport Loader from 'react-loader-spinner';\nimport Button from './components/Button';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nclass App extends Component {\n  state = { query: '', page: 1, gallery: [] };\n\n  componentDidUpdate = (_, prevState) => {\n    const { query, page } = this.state;\n\n    if (this.state.query !== prevState.query) {\n      this.setState({ gallery: [] });\n      fetchImages(query, page).then(images => {\n        this.setState({ gallery: [...images] });\n      });\n    }\n\n    if (\n      this.state.query === prevState.query &&\n      prevState.page !== this.state.page\n    ) {\n      fetchImages(query, page).then(images =>\n        this.setState(prevState => ({\n          gallery: [...prevState.gallery, ...images],\n        })),\n      );\n    }\n  };\n\n  handleNewQuery = ({ query }) => {\n    this.setState({ query });\n  };\n\n  render() {\n    return (\n      <>\n        <Searchbar onSubmit={this.handleNewQuery} />\n\n        {this.state.gallery ? (\n          <ImageGallery images={this.state.gallery} />\n        ) : (\n          <Loader\n            type=\"Hearts\"\n            color=\"red\"\n            height={80}\n            width={80}\n            timeout={3000}\n          />\n        )}\n        {this.state.gallery.length && this.state.gallery.length % 12 === 0 ? (\n          <Button\n            onClick={() => {\n              this.setState(prevState => ({ page: prevState.page + 1 }));\n            }}\n          />\n        ) : (\n          false\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__24rQc\",\"SearchForm\":\"Searchbar_SearchForm__235VO\",\"SearchFormButton\":\"Searchbar_SearchFormButton__6OiCs\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__e60KO\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1iWKu\"};"],"sourceRoot":""}